<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			button{
				width:40px;
				height:40px;
				background: deeppink;
			}
			div{
				width:400px;
				height:400px;
				border:1px solid black;
				margin-top:10px;
			}
		</style>
		<script type="text/javascript">
			window.onload = function (){
				var oBtn = document.getElementById("btn_1");
				var oDiv = document.getElementById("div_1");
				var oUl = oDiv.getElementsByTagName('ul')[0];
				oBtn.onclick = function(){
					var xhr = null;
					if(window.XMLHttpRequest){
						xhr = new XMLHttpRequest();
					}else{
						xhr = new ActiveXObject("Microsoft.XMLHTTP");
					}
					
					xhr.open('get','getNews.php',true);
					xhr.send(null);
					
					xhr.onreadystatechange = function(){
						if(xhr.readyState == 4){
							if(xhr.status == 200 || xhr.status == 0){
								var data = JSON.parse(xhr.responseText);
								var len = data.length;
								var html = '';
								for(var i=0;i<len;i++){
									html += '<li><a href="#">'+data[i].title+'</a>[<span>'+data[i].date+'</span>]</li>';
								}
								oUl.innerHTML = html;
							}else{
								alert("Error:"+xhr.status);
							}
						}
					}
				}
			}
		</script>
	</head>
	<body>
		<button id="btn_1">Ajax</button>
		<div id="div_1">
			<ul>
				
			</ul>
		</div>
	</body>
</html>
