<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8' />
		<title>向左滚动</title>
		<style type="text/css">
			ul {
				position: relative;
			}
			li {
				width: 500px;
				height: 200px;
				left: 0;
				top: 0;
				position: absolute;
				opacity: 0;
			}
			img {
				width: 500px;
				height: 200px;
			}
		</style>
	</head>
	<body>
		<div id="container">
			<ul id="img-list">
				<li><img src="imgs/1.jpg" /></li>
				<li><img src="imgs/2.jpg" /></li>
				<li><img src="imgs/3.jpg" /></li>
			</ul>
		</div>

		<script type="text/javascript" src="../../utility.js"></script>
		<script type="text/javascript">
			window.onload = function () {
				var imgList = document.getElementById('img-list');
				var lis = imgList.getElementsByTagName('li');

				var imgIndex = 0;
				var zIndex = 0;
				lis[imgIndex].style.opacity = 1;

				setTimeout(showNext, 3000);

				function showNext () {
					//秀下一张图片
					imgIndex++;
					zIndex++;
					//循环图片
					if (imgIndex > lis.length-1) {
						imgIndex = 0;
					}
					lis[imgIndex].style.zIndex = zIndex;
					//另一种循环图片的方式
					//imgIndex = imgIndex%lis.length;

					utility.movement.move(lis[imgIndex], 'opacity', 100, function () {
						hideOthers();
					});
				}

				function hideOthers() {
					for (var i=0; i<lis.length; i++) {
						if (i === imgIndex) {
							continue;
						}

						utility.movement.move(lis[i], 'opacity', 0);
					}

					setTimeout(showNext, 3000);
				}
			}
		</script>
	</body>
</html>