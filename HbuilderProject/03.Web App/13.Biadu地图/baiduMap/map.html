<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>百度地图定位</title>
		<meta name="viewport" content="width=device-width,initial-scale=1.0, user-scalable=no" />
		<style type="text/css">
		body, html,#allmap {padding: 0;width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
	    </style>
	    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=l2iAbySTGcBR7VTQQAuft3txdfU7Ic7G"></script>
		<script>
			//1.申请和获取密钥
			//2.参考现有百度地图demo  ctrl+c
			//3.demo移植到当前项目里面  ctrl+v
		</script>
	</head>
	<body>
		<div id="allmap"></div>
	</body>
	<script type="text/javascript">
	var host=window.location;
	console.log(host);
	host=host.search;
	var arr=host.split("&");
	console.log(arr);//进行字符串分割
	var x=arr[0].substring(3,arr[0].length);
	console.log(x);
	var y=arr[1].substring(2,arr[1].length);
	console.log(y);
	
	//百度地图API功能
	var map = new BMap.Map("allmap");
	map.centerAndZoom(new BMap.Point(116.331398,39.897445),11);
	map.enableScrollWheelZoom(true);
	
	//用经纬度设置地图中心点
	function theLocation(){
		    map.clearOverlays(); 
			var new_point = new BMap.Point(x,y);
			var marker = new BMap.Marker(new_point);  // 创建标注
			map.addOverlay(marker);              // 将标注添加到地图中
			map.panTo(new_point);
	}
	theLocation();
	
	//问题:在webapp中,在显示店铺信息列表中 ,图标可以让我们去打开地图
	//1.当点击商家信息的时候,可以获取商家信息的地理位置(具体的经纬度)
	//2.打开百度地图(多页面 打开新页面显示地图)
	   //1.位置信息在列表中如何显示(隐藏域的使用) img title,name,class='data'
	   //2.多页面之间传值(一个往另一个页面传递值,www.taobao.com/list/type=11?goodsid=10023999&color&444444)
	
</script>

</html>
