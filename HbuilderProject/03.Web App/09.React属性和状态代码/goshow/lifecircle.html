<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>React生命周期函数</title>
		<script type="text/javascript" src="lib/zepto.min.js" ></script>
		<script type="text/javascript" src="lib/react.min.js" ></script>
		<script type="text/javascript" src="lib/react-dom.min.js" ></script>
		<script type="text/javascript" src="lib/browser.min.js" ></script>
		<script>
			//1.生命周期阶段          组件生命周期 mounted(初始化阶段) ,update(运行中),unmount(卸载)
			//2.钩子函数的意义       这些生命周期函数 可以让我们很清楚的看到react从开始到结束是怎么样过程
			//3.初始化生命周期函数 ----
			//getDefaultProps: 设置组件内部属性(一般是用于设定组件内部的一些常量) 返回对象
			//getInitialState: 设置组件内部状态()返回对象
			//componentWillMount:组件即将加载的时候,获取到ajax数据,并解析
			//render:jsx         默认 创建jsx----->真实dom
			//componentDidMount: 完成加载的过程,挂在的状态
			//1.在页面中想获取渲染后得到的dom节点
			//2.和第三方插件使用
			
			//总结 五个函数 是每个react 组件初始化阶段 走过五步
			//开发中 需要使用那个 就写那个
			//易错:render还是render功能
		</script>
	</head>
	<body>
		<script type="text/babel">
			
			var ReactComponent=React.createClass({
				getInitialState:function(){
					console.log("2 set state");
					return{}
				},
				getDefaultProps:function(){
					console.log("1.set props");
					return{
						url:'http://datainfo.duapp.com/shopdata/getBanner.php'
					}
				},
				componentDidMount:function(){
					console.log("5.comp did mount");
					//挂载函数  jsx---->真实dom
					//1.操作真实dom
					document.getElementById("div").style.color="red";
					//2.和第三方插件使用---不冲突
					$.get(this.props.url,function(data){
						console.log(data);
					});
				},
				componentWillMount:function(){
					console.log("3.comp will mount");//提前去请求ajax
				},
				render:function(){
					console.log("4. render comp");
					return(
					  <div id="div">this is comp</div>
					);
				},
			});
			ReactDOM.render(<ReactComponent/>,document.body);
		</script>
	</body>
</html>
