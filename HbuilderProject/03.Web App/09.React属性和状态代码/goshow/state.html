<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script>
			//问题: 1.state如何去声明 state如何被定义的
			
			//     2.如何去监听组件内部的数据变化情况  实际上就是不断在给state赋值的过程
		</script>
		<script type="text/javascript" src="lib/react.min.js" ></script>
		<script type="text/javascript" src="lib/react-dom.min.js" ></script>
		<script type="text/javascript" src="lib/browser.min.js" ></script>
		
	</head>
	<body>
		<script type="text/babel">
			//第二个阶段的生命周期的函数:update阶段----是不是组件内部的内容发生改变了(props,state进行改变)
			//1.组件修改了自身state 状态
			//componentWillReceiveProps:(nextProps) 组件接受到的最新的属性值
			
			//shouldComponentUpdate:(nextProps,nextState)  组件接受到的最新的属性值和状态值
			
			//componentWillUpdate:(nextProps,nextState)  组件接受到的最新的属性值和状态值
			
			//componentDidUpdate:()                       完成更新渲染
			var ReactState=React.createClass({
				getInitialState:function(){
					var obj={_value:'hello'};
					return obj;
				},
				//监听组件中数据变化的时候,需要不断改变state值
				handleChange:function(event){
					var _text=event.target.value;
					this.setState({_value:_text});
				},
				//1.没有props时候不执行
				componentWillReceiveProps:function(nextProps){
					console.log("1.nextProps");
				},
				//2.给开发一个权限 设置组件在接到新props,state以后是否发生更新---写入逻辑 控制数据更新,节省组件性能
				shouldComponentUpdate:function(nextProps,nextState){
					console.log("&&&&&&"+nextState._value);
					if(nextState._value=="WUQIANG"){
						return true;
					}else{
						return false;
					}
					
				},
				componentWillUpdate:function(nextProps,nextState){
					//这个函数使用很少 主要日志，记录打印
					console.log("2.will update 组件即将渲染");
				},
				componentDidUpdate:function(){
					console.log("4.did update 更新结束");
				}
				,
				
				render:function(){
					console.log("***3.render 二次渲染更新***");
					console.log(this.state._value);
					return(
					  <div>
					  	<span>value:{this.state._value}</span>
			            <input onChange={this.handleChange} type="text" />
					  </div>
					);
				},
				
			});
			
			ReactDOM.render(<ReactState/>,document.body);
			
			
		</script>
	</body>
</html>
