<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title></title>
    <script type="text/javascript">
    	
   		document.addEventListener('plusready', function(){
   			//console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"
   			
   		});
   		function pictureImg(){
   			//将所有可以操作 将所有可以操作原生手机的api 都封装在了plus对象里面;
   			var _camera  = plus.camera.getCamera();//获取摄像头管理对象;
   			_camera.captureImage(function(path){
   				var io= plus.io //文件系统;---dcloud给我们提供可以操作手机上面文件的api方法;
   				
   				alert("get image success&&"+path);//path是拍照成功得到图片路径;
   				
   				var imgUrl = io.convertLocalFileSystemURL(path);//convertLocalFileSystemURL可以把我们的相对路径转换成局对路径;
   				var img = document.createElement("img");
   				
   				img.style.width = "200px";
   				img.style.height = "200px";
   				img.style.borderRadius = "4px";
   				img.style.display = 'block';
   				img.src=imgUrl;
   				document.getElementById("img").appendChild(img);
   				
   				img.onclick = function(){
   					this.parentNode.removeChild(img);
   				}
   			},function(error){
   				alert("get image error&&"+error);
   			},{});
   			//调用拍照方法;catptureImage()
   			//1.function(){success},
   			//2.function(){error},
   			//3.{可有可无};
   		};
   		//拍摄视频的方法;
   		function myVideo(){
   			var _camera = plus.camera.getCamera();
   			_camera.startVideoCapture(function(path){
   				var _io = plus.io;
   				
   				var videoUrl = _io.convertLocalFileSystemURL(path);
   				
   				var _video = document.createElement('video');
   				_video.style.width="200px";
   				_video.style.height="200px";
   				_video.style.display="block";
   				_video.controls = "controls";
   				_video.autoplay = "autoplay";
   				_video.src = videoUrl;
   				
   				document.getElementById("video").appendChild(_video);
   				
   			},function(error){alert("失败")},{})
   		}
   			
   		//startVideoCapture(function(path){拍摄成功的文件路径},
   		//funtion(error){},
   		//{可为空});
   		
   		//********dCloud如何进行打包的操作;
   		/*
   		 *1.web---准备换成原生app项目 安卓包名就是能够让我们app能在安卓市场,所有安卓app行列里面能够流通的证书;
   		 * 2.选中项目---右键---发行---发行为原生安装包(项目里面一定要有index.html页面,项目中不能含义任何中文);
   		 * 3.打包选项---(填写很多参数)---(app启动图片,终端自适应图片,手机上面的权限参数,第三方sdk结合)
   		 */
   		
   		/*
   		 * dcloud---一种写web方式进行写原生app;调试时候不存在跨平台问题,目前写出来的app;在安卓和ios上面都可以使用;
   		 * 实现了写一次可以在各个终端上面运行;
   		 * 安卓是可以直接打包运行的;
   		 * ios-- Ios开发者账户认证,在hbuilder里面调试;
   		 */
    </script>
</head>
<body>
	<button onclick="pictureImg()">点击后拍照</button>
	<div id="img"></div>
	<button onclick="myVideo()">点击拍摄小视频</button>
	<div id="video">
		<!--<video id="video" height="200px" controls="controls" autoplay="autoplay">
			
		</video>-->
	</div>
	
	
</body>
</html>